_format_version: "3.0"
_transform: true

services:
  - name: connect-career-be
    url: http://connect-career-be:8080
    routes:
      - name: connect-career-be-route
        paths:
          - /api
        strip_path: false
        plugins:
          - name: cors
            config:
              origins:
                - http://localhost:3000
                - https://connect-career.vercel.app
                - https://leminhtoan310104.id.vn
              methods:
                - GET
                - POST
                - PUT
                - DELETE
                - PATCH
                - OPTIONS
              headers:
                - Accept
                - Accept-Language
                - Content-Type
                - Authorization
                - Origin
                - Referer
                - X-Requested-With
              exposed_headers:
                - X-Request-Id
                - X-Response-Time
              credentials: true
              max_age: 3600
              preflight_continue: false

  - name: ai-service
    url: http://ai-service:8000
    routes:
      - name: ai-service-route
        paths:
          - /ai
        strip_path: true
        plugins:
          - name: cors
            config:
              origins:
                - http://localhost:3000
                - https://connect-career.vercel.app
                - https://leminhtoan310104.id.vn
              methods:
                - GET
                - POST
                - PUT
                - DELETE
                - PATCH
                - OPTIONS
              headers:
                - Accept
                - Accept-Language
                - Content-Type
                - Authorization
                - Origin
                - Referer
                - X-Requested-With
              exposed_headers:
                - X-Request-Id
                - X-Response-Time
              credentials: true
              max_age: 3600
              preflight_continue: false